fname="echo"
f=open(fname,"rb")

#this script 'patches' a binary
#need to replace these bytes with the correct offset
#from your debugger

fstr = "5000D0b4"    #  ST r0,x(,r13,180) 50 0 0 D 0b4  
nstr = "50D0D0b4"    #  ST r13,x(,r13,180) 50 D 0 D 0b4  

buf=f.read()
f.close()
print len(buf)

g=buf.find(fstr.decode('hex'))

print g


buf=buf.replace(fstr.decode('hex'),nstr.decode('hex'))

g=buf.find(nstr.decode('hex'))

print g

open(fname,"w+b").write(buf)
