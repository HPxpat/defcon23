#include <stdio.h>

int main() {
                                      /* The following assembly moves hex val into r7  */    
	char sc[] =                   /* proving we can execute strings as instruction */
   	 "\x17\x77"                   /*   XOR  R7,R7     <- XOR Reg 7 / clears it     */
         "\xc0\x71\xde\xad\xbe\xef"   /*   AGHI R7,0xdeadbeef Move 0xDEADBEEF into R7  */
         "\x07\xFE";                  /*   BCR 15,R14     <- return to ret addr in R14 */

	int (*ret)();           /*  our dummy function */
	ret = (int(*)())sc;     /*  the cast of our shellcode to dummy function */
	(int)(*ret)();          /*  execute the function */
	return 0;
}
